#include <stdint.h>
#include "cache.h"

void reads(volatile cacheline_t *base_addr) {

	asm volatile (
		"ld t0, -2048(%0);"
		"ld t0, -2032(%0);"
		"ld t0, -2016(%0);"
		"ld t0, -2000(%0);"
		"ld t0, -1984(%0);"
		"ld t0, -1968(%0);"
		"ld t0, -1952(%0);"
		"ld t0, -1936(%0);"
		"ld t0, -1920(%0);"
		"ld t0, -1904(%0);"
		"ld t0, -1888(%0);"
		"ld t0, -1872(%0);"
		"ld t0, -1856(%0);"
		"ld t0, -1840(%0);"
		"ld t0, -1824(%0);"
		"ld t0, -1808(%0);"
		"ld t0, -1792(%0);"
		"ld t0, -1776(%0);"
		"ld t0, -1760(%0);"
		"ld t0, -1744(%0);"
		"ld t0, -1728(%0);"
		"ld t0, -1712(%0);"
		"ld t0, -1696(%0);"
		"ld t0, -1680(%0);"
		"ld t0, -1664(%0);"
		"ld t0, -1648(%0);"
		"ld t0, -1632(%0);"
		"ld t0, -1616(%0);"
		"ld t0, -1600(%0);"
		"ld t0, -1584(%0);"
		"ld t0, -1568(%0);"
		"ld t0, -1552(%0);"
		"ld t0, -1536(%0);"
		"ld t0, -1520(%0);"
		"ld t0, -1504(%0);"
		"ld t0, -1488(%0);"
		"ld t0, -1472(%0);"
		"ld t0, -1456(%0);"
		"ld t0, -1440(%0);"
		"ld t0, -1424(%0);"
		"ld t0, -1408(%0);"
		"ld t0, -1392(%0);"
		"ld t0, -1376(%0);"
		"ld t0, -1360(%0);"
		"ld t0, -1344(%0);"
		"ld t0, -1328(%0);"
		"ld t0, -1312(%0);"
		"ld t0, -1296(%0);"
		"ld t0, -1280(%0);"
		"ld t0, -1264(%0);"
		"ld t0, -1248(%0);"
		"ld t0, -1232(%0);"
		"ld t0, -1216(%0);"
		"ld t0, -1200(%0);"
		"ld t0, -1184(%0);"
		"ld t0, -1168(%0);"
		"ld t0, -1152(%0);"
		"ld t0, -1136(%0);"
		"ld t0, -1120(%0);"
		"ld t0, -1104(%0);"
		"ld t0, -1088(%0);"
		"ld t0, -1072(%0);"
		"ld t0, -1056(%0);"
		"ld t0, -1040(%0);"
		"ld t0, -1024(%0);"
		"ld t0, -1008(%0);"
		"ld t0, -992(%0);"
		"ld t0, -976(%0);"
		"ld t0, -960(%0);"
		"ld t0, -944(%0);"
		"ld t0, -928(%0);"
		"ld t0, -912(%0);"
		"ld t0, -896(%0);"
		"ld t0, -880(%0);"
		"ld t0, -864(%0);"
		"ld t0, -848(%0);"
		"ld t0, -832(%0);"
		"ld t0, -816(%0);"
		"ld t0, -800(%0);"
		"ld t0, -784(%0);"
		"ld t0, -768(%0);"
		"ld t0, -752(%0);"
		"ld t0, -736(%0);"
		"ld t0, -720(%0);"
		"ld t0, -704(%0);"
		"ld t0, -688(%0);"
		"ld t0, -672(%0);"
		"ld t0, -656(%0);"
		"ld t0, -640(%0);"
		"ld t0, -624(%0);"
		"ld t0, -608(%0);"
		"ld t0, -592(%0);"
		"ld t0, -576(%0);"
		"ld t0, -560(%0);"
		"ld t0, -544(%0);"
		"ld t0, -528(%0);"
		"ld t0, -512(%0);"
		"ld t0, -496(%0);"
		"ld t0, -480(%0);"
		"ld t0, -464(%0);"
		"ld t0, -448(%0);"
		"ld t0, -432(%0);"
		"ld t0, -416(%0);"
		"ld t0, -400(%0);"
		"ld t0, -384(%0);"
		"ld t0, -368(%0);"
		"ld t0, -352(%0);"
		"ld t0, -336(%0);"
		"ld t0, -320(%0);"
		"ld t0, -304(%0);"
		"ld t0, -288(%0);"
		"ld t0, -272(%0);"
		"ld t0, -256(%0);"
		"ld t0, -240(%0);"
		"ld t0, -224(%0);"
		"ld t0, -208(%0);"
		"ld t0, -192(%0);"
		"ld t0, -176(%0);"
		"ld t0, -160(%0);"
		"ld t0, -144(%0);"
		"ld t0, -128(%0);"
		"ld t0, -112(%0);"
		"ld t0, -96(%0);"
		"ld t0, -80(%0);"
		"ld t0, -64(%0);"
		"ld t0, -48(%0);"
		"ld t0, -32(%0);"
		"ld t0, -16(%0);"
		"ld t0, 0(%0);"
		"ld t0, 16(%0);"
		"ld t0, 32(%0);"
		"ld t0, 48(%0);"
		"ld t0, 64(%0);"
		"ld t0, 80(%0);"
		"ld t0, 96(%0);"
		"ld t0, 112(%0);"
		"ld t0, 128(%0);"
		"ld t0, 144(%0);"
		"ld t0, 160(%0);"
		"ld t0, 176(%0);"
		"ld t0, 192(%0);"
		"ld t0, 208(%0);"
		"ld t0, 224(%0);"
		"ld t0, 240(%0);"
		"ld t0, 256(%0);"
		"ld t0, 272(%0);"
		"ld t0, 288(%0);"
		"ld t0, 304(%0);"
		"ld t0, 320(%0);"
		"ld t0, 336(%0);"
		"ld t0, 352(%0);"
		"ld t0, 368(%0);"
		"ld t0, 384(%0);"
		"ld t0, 400(%0);"
		"ld t0, 416(%0);"
		"ld t0, 432(%0);"
		"ld t0, 448(%0);"
		"ld t0, 464(%0);"
		"ld t0, 480(%0);"
		"ld t0, 496(%0);"
		"ld t0, 512(%0);"
		"ld t0, 528(%0);"
		"ld t0, 544(%0);"
		"ld t0, 560(%0);"
		"ld t0, 576(%0);"
		"ld t0, 592(%0);"
		"ld t0, 608(%0);"
		"ld t0, 624(%0);"
		"ld t0, 640(%0);"
		"ld t0, 656(%0);"
		"ld t0, 672(%0);"
		"ld t0, 688(%0);"
		"ld t0, 704(%0);"
		"ld t0, 720(%0);"
		"ld t0, 736(%0);"
		"ld t0, 752(%0);"
		"ld t0, 768(%0);"
		"ld t0, 784(%0);"
		"ld t0, 800(%0);"
		"ld t0, 816(%0);"
		"ld t0, 832(%0);"
		"ld t0, 848(%0);"
		"ld t0, 864(%0);"
		"ld t0, 880(%0);"
		"ld t0, 896(%0);"
		"ld t0, 912(%0);"
		"ld t0, 928(%0);"
		"ld t0, 944(%0);"
		"ld t0, 960(%0);"
		"ld t0, 976(%0);"
		"ld t0, 992(%0);"
		"ld t0, 1008(%0);"
		"ld t0, 1024(%0);"
		"ld t0, 1040(%0);"
		"ld t0, 1056(%0);"
		"ld t0, 1072(%0);"
		"ld t0, 1088(%0);"
		"ld t0, 1104(%0);"
		"ld t0, 1120(%0);"
		"ld t0, 1136(%0);"
		"ld t0, 1152(%0);"
		"ld t0, 1168(%0);"
		"ld t0, 1184(%0);"
		"ld t0, 1200(%0);"
		"ld t0, 1216(%0);"
		"ld t0, 1232(%0);"
		"ld t0, 1248(%0);"
		"ld t0, 1264(%0);"
		"ld t0, 1280(%0);"
		"ld t0, 1296(%0);"
		"ld t0, 1312(%0);"
		"ld t0, 1328(%0);"
		"ld t0, 1344(%0);"
		"ld t0, 1360(%0);"
		"ld t0, 1376(%0);"
		"ld t0, 1392(%0);"
		"ld t0, 1408(%0);"
		"ld t0, 1424(%0);"
		"ld t0, 1440(%0);"
		"ld t0, 1456(%0);"
		"ld t0, 1472(%0);"
		"ld t0, 1488(%0);"
		"ld t0, 1504(%0);"
		"ld t0, 1520(%0);"
		"ld t0, 1536(%0);"
		"ld t0, 1552(%0);"
		"ld t0, 1568(%0);"
		"ld t0, 1584(%0);"
		"ld t0, 1600(%0);"
		"ld t0, 1616(%0);"
		"ld t0, 1632(%0);"
		"ld t0, 1648(%0);"
		"ld t0, 1664(%0);"
		"ld t0, 1680(%0);"
		"ld t0, 1696(%0);"
		"ld t0, 1712(%0);"
		"ld t0, 1728(%0);"
		"ld t0, 1744(%0);"
		"ld t0, 1760(%0);"
		"ld t0, 1776(%0);"
		"ld t0, 1792(%0);"
		"ld t0, 1808(%0);"
		"ld t0, 1824(%0);"
		"ld t0, 1840(%0);"
		"ld t0, 1856(%0);"
		"ld t0, 1872(%0);"
		"ld t0, 1888(%0);"
		"ld t0, 1904(%0);"
		"ld t0, 1920(%0);"
		"ld t0, 1936(%0);"
		"ld t0, 1952(%0);"
		"ld t0, 1968(%0);"
		"ld t0, 1984(%0);"
		"ld t0, 2000(%0);"
		"ld t0, 2016(%0);"
		"ld t0, 2032(%0)"
		:
		: "r" (base_addr)
		: "t0"
	);
}

void writes(volatile cacheline_t *base_addr) {

	asm volatile (
		"li t0, 0x1234ABCD;"
		"sd t0, -2048(%0);"
		"sd t0, -2032(%0);"
		"sd t0, -2016(%0);"
		"sd t0, -2000(%0);"
		"sd t0, -1984(%0);"
		"sd t0, -1968(%0);"
		"sd t0, -1952(%0);"
		"sd t0, -1936(%0);"
		"sd t0, -1920(%0);"
		"sd t0, -1904(%0);"
		"sd t0, -1888(%0);"
		"sd t0, -1872(%0);"
		"sd t0, -1856(%0);"
		"sd t0, -1840(%0);"
		"sd t0, -1824(%0);"
		"sd t0, -1808(%0);"
		"sd t0, -1792(%0);"
		"sd t0, -1776(%0);"
		"sd t0, -1760(%0);"
		"sd t0, -1744(%0);"
		"sd t0, -1728(%0);"
		"sd t0, -1712(%0);"
		"sd t0, -1696(%0);"
		"sd t0, -1680(%0);"
		"sd t0, -1664(%0);"
		"sd t0, -1648(%0);"
		"sd t0, -1632(%0);"
		"sd t0, -1616(%0);"
		"sd t0, -1600(%0);"
		"sd t0, -1584(%0);"
		"sd t0, -1568(%0);"
		"sd t0, -1552(%0);"
		"sd t0, -1536(%0);"
		"sd t0, -1520(%0);"
		"sd t0, -1504(%0);"
		"sd t0, -1488(%0);"
		"sd t0, -1472(%0);"
		"sd t0, -1456(%0);"
		"sd t0, -1440(%0);"
		"sd t0, -1424(%0);"
		"sd t0, -1408(%0);"
		"sd t0, -1392(%0);"
		"sd t0, -1376(%0);"
		"sd t0, -1360(%0);"
		"sd t0, -1344(%0);"
		"sd t0, -1328(%0);"
		"sd t0, -1312(%0);"
		"sd t0, -1296(%0);"
		"sd t0, -1280(%0);"
		"sd t0, -1264(%0);"
		"sd t0, -1248(%0);"
		"sd t0, -1232(%0);"
		"sd t0, -1216(%0);"
		"sd t0, -1200(%0);"
		"sd t0, -1184(%0);"
		"sd t0, -1168(%0);"
		"sd t0, -1152(%0);"
		"sd t0, -1136(%0);"
		"sd t0, -1120(%0);"
		"sd t0, -1104(%0);"
		"sd t0, -1088(%0);"
		"sd t0, -1072(%0);"
		"sd t0, -1056(%0);"
		"sd t0, -1040(%0);"
		"sd t0, -1024(%0);"
		"sd t0, -1008(%0);"
		"sd t0, -992(%0);"
		"sd t0, -976(%0);"
		"sd t0, -960(%0);"
		"sd t0, -944(%0);"
		"sd t0, -928(%0);"
		"sd t0, -912(%0);"
		"sd t0, -896(%0);"
		"sd t0, -880(%0);"
		"sd t0, -864(%0);"
		"sd t0, -848(%0);"
		"sd t0, -832(%0);"
		"sd t0, -816(%0);"
		"sd t0, -800(%0);"
		"sd t0, -784(%0);"
		"sd t0, -768(%0);"
		"sd t0, -752(%0);"
		"sd t0, -736(%0);"
		"sd t0, -720(%0);"
		"sd t0, -704(%0);"
		"sd t0, -688(%0);"
		"sd t0, -672(%0);"
		"sd t0, -656(%0);"
		"sd t0, -640(%0);"
		"sd t0, -624(%0);"
		"sd t0, -608(%0);"
		"sd t0, -592(%0);"
		"sd t0, -576(%0);"
		"sd t0, -560(%0);"
		"sd t0, -544(%0);"
		"sd t0, -528(%0);"
		"sd t0, -512(%0);"
		"sd t0, -496(%0);"
		"sd t0, -480(%0);"
		"sd t0, -464(%0);"
		"sd t0, -448(%0);"
		"sd t0, -432(%0);"
		"sd t0, -416(%0);"
		"sd t0, -400(%0);"
		"sd t0, -384(%0);"
		"sd t0, -368(%0);"
		"sd t0, -352(%0);"
		"sd t0, -336(%0);"
		"sd t0, -320(%0);"
		"sd t0, -304(%0);"
		"sd t0, -288(%0);"
		"sd t0, -272(%0);"
		"sd t0, -256(%0);"
		"sd t0, -240(%0);"
		"sd t0, -224(%0);"
		"sd t0, -208(%0);"
		"sd t0, -192(%0);"
		"sd t0, -176(%0);"
		"sd t0, -160(%0);"
		"sd t0, -144(%0);"
		"sd t0, -128(%0);"
		"sd t0, -112(%0);"
		"sd t0, -96(%0);"
		"sd t0, -80(%0);"
		"sd t0, -64(%0);"
		"sd t0, -48(%0);"
		"sd t0, -32(%0);"
		"sd t0, -16(%0);"
		"sd t0, 0(%0);"
		"sd t0, 16(%0);"
		"sd t0, 32(%0);"
		"sd t0, 48(%0);"
		"sd t0, 64(%0);"
		"sd t0, 80(%0);"
		"sd t0, 96(%0);"
		"sd t0, 112(%0);"
		"sd t0, 128(%0);"
		"sd t0, 144(%0);"
		"sd t0, 160(%0);"
		"sd t0, 176(%0);"
		"sd t0, 192(%0);"
		"sd t0, 208(%0);"
		"sd t0, 224(%0);"
		"sd t0, 240(%0);"
		"sd t0, 256(%0);"
		"sd t0, 272(%0);"
		"sd t0, 288(%0);"
		"sd t0, 304(%0);"
		"sd t0, 320(%0);"
		"sd t0, 336(%0);"
		"sd t0, 352(%0);"
		"sd t0, 368(%0);"
		"sd t0, 384(%0);"
		"sd t0, 400(%0);"
		"sd t0, 416(%0);"
		"sd t0, 432(%0);"
		"sd t0, 448(%0);"
		"sd t0, 464(%0);"
		"sd t0, 480(%0);"
		"sd t0, 496(%0);"
		"sd t0, 512(%0);"
		"sd t0, 528(%0);"
		"sd t0, 544(%0);"
		"sd t0, 560(%0);"
		"sd t0, 576(%0);"
		"sd t0, 592(%0);"
		"sd t0, 608(%0);"
		"sd t0, 624(%0);"
		"sd t0, 640(%0);"
		"sd t0, 656(%0);"
		"sd t0, 672(%0);"
		"sd t0, 688(%0);"
		"sd t0, 704(%0);"
		"sd t0, 720(%0);"
		"sd t0, 736(%0);"
		"sd t0, 752(%0);"
		"sd t0, 768(%0);"
		"sd t0, 784(%0);"
		"sd t0, 800(%0);"
		"sd t0, 816(%0);"
		"sd t0, 832(%0);"
		"sd t0, 848(%0);"
		"sd t0, 864(%0);"
		"sd t0, 880(%0);"
		"sd t0, 896(%0);"
		"sd t0, 912(%0);"
		"sd t0, 928(%0);"
		"sd t0, 944(%0);"
		"sd t0, 960(%0);"
		"sd t0, 976(%0);"
		"sd t0, 992(%0);"
		"sd t0, 1008(%0);"
		"sd t0, 1024(%0);"
		"sd t0, 1040(%0);"
		"sd t0, 1056(%0);"
		"sd t0, 1072(%0);"
		"sd t0, 1088(%0);"
		"sd t0, 1104(%0);"
		"sd t0, 1120(%0);"
		"sd t0, 1136(%0);"
		"sd t0, 1152(%0);"
		"sd t0, 1168(%0);"
		"sd t0, 1184(%0);"
		"sd t0, 1200(%0);"
		"sd t0, 1216(%0);"
		"sd t0, 1232(%0);"
		"sd t0, 1248(%0);"
		"sd t0, 1264(%0);"
		"sd t0, 1280(%0);"
		"sd t0, 1296(%0);"
		"sd t0, 1312(%0);"
		"sd t0, 1328(%0);"
		"sd t0, 1344(%0);"
		"sd t0, 1360(%0);"
		"sd t0, 1376(%0);"
		"sd t0, 1392(%0);"
		"sd t0, 1408(%0);"
		"sd t0, 1424(%0);"
		"sd t0, 1440(%0);"
		"sd t0, 1456(%0);"
		"sd t0, 1472(%0);"
		"sd t0, 1488(%0);"
		"sd t0, 1504(%0);"
		"sd t0, 1520(%0);"
		"sd t0, 1536(%0);"
		"sd t0, 1552(%0);"
		"sd t0, 1568(%0);"
		"sd t0, 1584(%0);"
		"sd t0, 1600(%0);"
		"sd t0, 1616(%0);"
		"sd t0, 1632(%0);"
		"sd t0, 1648(%0);"
		"sd t0, 1664(%0);"
		"sd t0, 1680(%0);"
		"sd t0, 1696(%0);"
		"sd t0, 1712(%0);"
		"sd t0, 1728(%0);"
		"sd t0, 1744(%0);"
		"sd t0, 1760(%0);"
		"sd t0, 1776(%0);"
		"sd t0, 1792(%0);"
		"sd t0, 1808(%0);"
		"sd t0, 1824(%0);"
		"sd t0, 1840(%0);"
		"sd t0, 1856(%0);"
		"sd t0, 1872(%0);"
		"sd t0, 1888(%0);"
		"sd t0, 1904(%0);"
		"sd t0, 1920(%0);"
		"sd t0, 1936(%0);"
		"sd t0, 1952(%0);"
		"sd t0, 1968(%0);"
		"sd t0, 1984(%0);"
		"sd t0, 2000(%0);"
		"sd t0, 2016(%0);"
		"sd t0, 2032(%0)"
		:
		: "r" (base_addr)
		: "t0"
	);
}

